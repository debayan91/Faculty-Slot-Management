{
  "entities": {
    "Faculty": {
      "title": "Faculty",
      "description": "Represents a faculty member in the system.",
      "type": "object",
      "properties": {
        "empId": {
          "type": "string",
          "description": "Employee ID of the faculty member."
        },
        "userId": {
          "type": "string",
          "description": "The associated user ID from Firebase Authentication."
        },
        "name": {
          "type": "string",
          "description": "Full name of the faculty member."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Email address of the faculty member."
        },
        "department": {
          "type": "string",
          "description": "The department the faculty member belongs to."
        },
        "role": {
          "type": "string",
          "description": "Role of the user, e.g., 'faculty' or 'admin'.",
          "enum": ["faculty", "admin"]
        }
      },
      "required": ["empId", "userId", "name", "email", "role"]
    },
    "Slot": {
      "title": "Slot",
      "description": "Represents a single, specific time slot for a given day.",
      "type": "object",
      "properties": {
        "slot_datetime": {
          "type": "string",
          "format": "date-time",
          "description": "A timestamp representing the exact start date and time of the slot."
        },
        "duration_minutes": {
          "type": "number",
          "description": "The duration of the slot in minutes."
        },
        "course_name": {
          "type": ["string", "null"],
          "description": "The name of the course or event for this slot (e.g., 'Physics 101')."
        },
        "faculty_name": {
          "type": ["string", "null"],
          "description": "The name of the faculty member assigned by the admin."
        },
        "room_number": {
          "type": ["string", "null"],
          "description": "The room number for this slot (e.g., '303B')."
        },
        "is_bookable": {
          "type": "boolean",
          "description": "Whether this slot can be booked by a faculty member. Set by an admin."
        },
        "is_booked": {
          "type": "boolean",
          "description": "Whether this slot has been booked by a faculty member."
        },
        "booked_by": {
          "type": ["string", "null"],
          "description": "The empId of the faculty member who booked the slot. Null if not booked."
        }
      },
      "required": ["slot_datetime", "duration_minutes", "is_bookable", "is_booked"]
    },
    "ScheduleTemplate": {
      "title": "Schedule Template",
      "description": "A template defining the structure of a day's schedule.",
      "type": "object",
      "properties": {
        "day": {
          "type": "string",
          "description": "The day of the week (e.g., 'monday')."
        },
        "slots": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "startTime": {
                "type": "string",
                "description": "The start time in HH:mm format (e.g., '09:00')."
              },
              "duration": {
                "type": "number",
                "description": "Duration of the slot in minutes."
              }
            },
            "required": ["startTime", "duration"]
          }
        }
      },
      "required": ["day", "slots"]
    },
    "AuthorizedEmail": {
      "title": "Authorized Email",
      "description": "Represents an email address that is authorized to access the application.",
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "format": "email",
          "description": "The authorized email address."
        },
        "addedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the email was added."
        }
      },
      "required": ["email"]
    }
  },
  "auth": {
    "providers": ["google.com"]
  },
  "firestore": {
    "/faculties/{facultyId}": {
      "schema": { "$ref": "#/entities/Faculty" },
      "description": "Stores faculty profiles."
    },
    "/slots/{slotId}": {
      "schema": { "$ref": "#/entities/Slot" },
      "description": "Stores every single slot for every single day."
    },
    "/schedule_templates/{day}": {
      "schema": { "$ref": "#/entities/ScheduleTemplate" },
      "description": "Stores the fixed schedule templates for each day of the week."
    },
    "/authorized_emails/{docId}": {
      "schema": { "$ref": "#/entities/AuthorizedEmail" },
      "description": "A list of email addresses authorized to use the app. The document ID can be the email address itself for easy lookup."
    }
  }
}
